# config 版本，请勿修改
config-version: 5

# 语言标签，对应 lang/ 下的文件名
locale: zh_CN

debug:
  # 是否启用插件调试日志
  enabled: false

graph:
  # 图查询/ETA 默认速度（blocks per second），用于 /fta graph query/path 等诊断命令的估算
  default-speed-blocks-per-second: 8.0

autostation:
  # 关门提示音（Bukkit Sound enum 或自定义 sound key）
  door-close-sound: "BLOCK_NOTE_BLOCK_BELL"
  # 关门提示音音量
  door-close-sound-volume: 1.0
  # 关门提示音音高
  door-close-sound-pitch: 1.2

runtime:
  # 运行时信号/闭塞监测 tick 间隔
  dispatch-tick-interval-ticks: 10
  # 占用请求 lookahead 边数
  lookahead-edges: 2
  # 道岔区联合锁闭范围（向前 N 段边）
  switcher-zone-edges: 3
  # 进站前的限速（blocks per second）
  approach-speed-bps: 4.0
  # 进库前的限速（blocks per second）
  approach-depot-speed-bps: 3.5
  # CAUTION 信号速度上限（blocks per second），可被连通分量覆盖
  caution-speed-bps: 6.0
  # 是否启用“提前减速”速度曲线（根据剩余距离与制动能力动态限速）
  speed-curve-enabled: true
  # 速度曲线类型：physics/linear/quadratic/cubic
  speed-curve-type: "physics"
  # 速度曲线放大系数（>1 更激进，<1 更保守）
  speed-curve-factor: 1.0
  # 提前减速缓冲距离（blocks），用于更早开始降速
  speed-curve-early-brake-blocks: 0.0
  # failover：低速判定阈值（blocks per second）
  failover-stall-speed-bps: 0.2
  # failover：低速连续 tick 触发阈值（以 dispatch-tick 为单位）
  failover-stall-ticks: 60
  # failover：目标不可达时强制停车
  failover-unreachable-stop: true

train:
  # 默认车种（emu/dmu/diesel_push_pull/electric_loco）
  default-type: emu
  types:
    emu:
      accel-bps2: 0.8
      decel-bps2: 1.0
    dmu:
      accel-bps2: 0.7
      decel-bps2: 0.9
    diesel_push_pull:
      accel-bps2: 0.6
      decel-bps2: 0.8
    electric_loco:
      accel-bps2: 0.9
      decel-bps2: 1.1

storage:
  # 可选值：sqlite / mysql
  backend: sqlite

  sqlite:
    # 插件数据目录下的 SQLite 文件名
    file: "data/fetarute.sqlite"

  mysql:
    # 数据库地址，含主机/IP
    db_address: "127.0.0.1"
    # 数据库端口
    db_port: 3306
    # 数据库名/Schema
    db_table: "fetarute_tc"
    # 数据库用户名
    db_username: "fta"
    # 数据库密码
    db_password: "change-me"
    # 可选：表前缀，避免与其他插件冲突
    table_prefix: "fta_"

  # 连接池设置（HikariCP）
  pool:
    # 最大连接数（SQLite 会自动收敛为 1）
    maximum-pool-size: 5
    # 连接获取超时（毫秒）
    connection-timeout-ms: 30000
    # 空闲连接存活时间（毫秒）
    idle-timeout-ms: 600000
    # 连接最大生命周期（毫秒）
    max-lifetime-ms: 1800000
